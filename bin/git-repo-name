#!/bin/bash

set -eu

toplevel="$(git rev-parse --show-toplevel 2>/dev/null)"
toplevel="$(basename "$toplevel")"

superproject="$(git rev-parse --show-superproject-working-tree 2>/dev/null)"
superproject="$(basename "$superproject")"

gitdir="$(git rev-parse --absolute-git-dir 2>/dev/null)"
case "$gitdir" in
	*/*[^/].git) project="$(basename "$gitdir" .git)" ;;
	*) project="$toplevel" ;;
esac

echo "$superproject${superproject:+:}$project"
